{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst form = document.getElementById(\"search-form\");\nconst gallery = document.getElementById(\"gallery\");\nconst loader = document.getElementById(\"loader\");\nlet lightbox;\n\nform.addEventListener(\"submit\", onSearch);\n\nfunction onSearch(event) {\n  event.preventDefault();\n  const query = form.query.value.trim();\n\n  if (!query) {\n    iziToast.error({\n      title: \"Error\",\n      message: \"Please enter a search query.\",\n    });\n    return;\n  }\n\n  gallery.innerHTML = \"\";\n  fetchImages(query);\n}\n\nasync function fetchImages(query) {\n  loader.style.display = \"block\";\n  const API_KEY = \"4687124146871241-4d6b3672e38c39f9ae37ca0de\"; // Замініть на ваш реальний API ключ\n  const url = `https://pixabay.com/api/?key=${API_KEY}&q=${encodeURIComponent(query)}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  try {\n    const response = await fetch(url);\n    const data = await response.json();\n\n    if (data.hits.length === 0) {\n      iziToast.info({\n        title: \"No results\",\n        message: \"Sorry, there are no images matching your search query. Please try again!\",\n      });\n      loader.style.display = \"none\";\n      return;\n    }\n\n    renderGallery(data.hits);\n    if (!lightbox) {\n      lightbox = new SimpleLightbox(\".gallery a\", { captionsData: \"alt\", captionDelay: 250 });\n    } else {\n      lightbox.refresh();\n    }\n  } catch (error) {\n    iziToast.error({\n      title: \"Error\",\n      message: \"Failed to fetch images. Please try again later.\",\n    });\n  } finally {\n    loader.style.display = \"none\";\n  }\n}\n\nfunction renderGallery(images) {\n  const markup = images\n    .map(\n      (image) => `\n      <a href=\"${image.largeImageURL}\" class=\"gallery-item\">\n        <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" loading=\"lazy\" />\n        <div class=\"info\">\n          <p><b>Likes:</b> ${image.likes}</p>\n          <p><b>Views:</b> ${image.views}</p>\n          <p><b>Comments:</b> ${image.comments}</p>\n          <p><b>Downloads:</b> ${image.downloads}</p>\n        </div>\n      </a>`\n    )\n    .join(\"\");\n\n  gallery.insertAdjacentHTML(\"beforeend\", markup);\n}\n"],"names":["form","gallery","loader","lightbox","onSearch","event","query","iziToast","fetchImages","url","data","renderGallery","SimpleLightbox","images","markup","image"],"mappings":"iyBAKA,MAAMA,EAAO,SAAS,eAAe,aAAa,EAC5CC,EAAU,SAAS,eAAe,SAAS,EAC3CC,EAAS,SAAS,eAAe,QAAQ,EAC/C,IAAIC,EAEJH,EAAK,iBAAiB,SAAUI,CAAQ,EAExC,SAASA,EAASC,EAAO,CACvBA,EAAM,eAAc,EACpB,MAAMC,EAAQN,EAAK,MAAM,MAAM,KAAI,EAEnC,GAAI,CAACM,EAAO,CACVC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,8BACf,CAAK,EACD,MACD,CAEDN,EAAQ,UAAY,GACpBO,EAAYF,CAAK,CACnB,CAEA,eAAeE,EAAYF,EAAO,CAChCJ,EAAO,MAAM,QAAU,QAEvB,MAAMO,EAAM,6EAA6C,mBAAmBH,CAAK,CAAC,2DAElF,GAAI,CAEF,MAAMI,EAAO,MADI,MAAM,MAAMD,CAAG,GACJ,OAE5B,GAAIC,EAAK,KAAK,SAAW,EAAG,CAC1BH,EAAS,KAAK,CACZ,MAAO,aACP,QAAS,0EACjB,CAAO,EACDL,EAAO,MAAM,QAAU,OACvB,MACD,CAEDS,EAAcD,EAAK,IAAI,EAClBP,EAGHA,EAAS,QAAO,EAFhBA,EAAW,IAAIS,EAAe,aAAc,CAAE,aAAc,MAAO,aAAc,GAAG,CAAE,CAIzF,MAAe,CACdL,EAAS,MAAM,CACb,MAAO,QACP,QAAS,iDACf,CAAK,CACL,QAAY,CACRL,EAAO,MAAM,QAAU,MACxB,CACH,CAEA,SAASS,EAAcE,EAAQ,CAC7B,MAAMC,EAASD,EACZ,IACEE,GAAU;AAAA,iBACAA,EAAM,aAAa;AAAA,oBAChBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA,6BAE7BA,EAAM,KAAK;AAAA,6BACXA,EAAM,KAAK;AAAA,gCACRA,EAAM,QAAQ;AAAA,iCACbA,EAAM,SAAS;AAAA;AAAA,WAG3C,EACA,KAAK,EAAE,EAEVd,EAAQ,mBAAmB,YAAaa,CAAM,CAChD"}